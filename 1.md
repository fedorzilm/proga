📁 InternetProviderDB_CS/
├── 📄 CMakeLists.txt
├── 📄 README.md
├── 📄 Doxyfile.in
├── 📄 server.conf.example
├── 📁 data/
│   ├── 📄 provider_data_default.txt
│   ├── 📄 queries_client_example.txt
│   ├── 📄 tariff_default.cfg
│   └── 📄 comprehensive_test_queries.txt # (или stage4_test_queries.txt)
├── 📁 server_data_root/            # (Может создаваться сервером)
│   └── 📁 server_databases/        #   Поддиректория по умолчанию для файлов БД (LOAD/SAVE)
├── 📁 src/
│   ├── 📄 common_defs.h
│   ├── 📁 core/
│   │   ├── 📄 database.cpp
│   │   ├── 📄 database.h
│   │   ├── 📄 date.cpp
│   │   ├── 📄 date.h
│   │   ├── 📄 ip_address.cpp
│   │   ├── 📄 ip_address.h
│   │   ├── 📄 provider_record.cpp
│   │   ├── 📄 provider_record.h
│   │   ├── 📄 query_parser.cpp
│   │   ├── 📄 query_parser.h
│   │   ├── 📄 tariff_plan.cpp
│   │   └── 📄 tariff_plan.h
│   ├── 📁 net/
│   │   ├── 📄 tcp_socket.cpp
│   │   └── 📄 tcp_socket.h
│   ├── 📁 server/
│   │   ├── 📄 server_main.cpp
│   │   ├── 📄 server.cpp
│   │   ├── 📄 server.h
│   │   ├── 📄 server_command_handler.cpp
│   │   ├── 📄 server_command_handler.h
│   │   ├── 📄 server_config.cpp
│   │   └── 📄 server_config.h
│   ├── 📁 client/
│   │   └── 📄 client_main.cpp
│   └── 📁 utils/
│       ├── 📄 file_utils.cpp
│       ├── 📄 file_utils.h
│       ├── 📄 logger.cpp
│       ├── 📄 logger.h
│       ├── 📄 thread_pool.cpp
│       └── 📄 thread_pool.h
├── 📁 tools/
│   └── 📄 generator.cpp
├── 📁 unit_tests/
│   ├── 📄 test_main.cpp
│   │   # ... (все ваши существующие файлы юнит-тестов)
│   └── 📄 test_utils.h
├── 📁 integration_tests/            # Новая директория для интеграционных тестов
│   ├── 📄 run_all_tests.sh          # Главный скрипт для запуска всех интеграционных тестов
│   ├── 📄 test_common.sh            # Общие функции для тестовых скриптов
│   ├── 📁 scenarios/                # Директория для файлов каждого сценария
│   │   ├── 📁 scenario1/
│   │   │   ├── 📄 initial_data_s1.txt
│   │   │   ├── 📄 tariff_s1.cfg
│   │   │   ├── 📄 commands_s1.txt
│   │   │   └── 📄 expected_output_s1.txt       # Ожидаемый вывод клиента
│   │   │   └── 📄 expected_db_after_s1.txt     # Ожидаемое состояние БД после SAVE
│   │   ├── 📁 scenario2/
│   │   │   ├── 📄 initial_data_s2_large.txt    # Большой набор данных
│   │   │   ├── 📄 tariff_s2.cfg
│   │   │   ├── 📄 commands_s2.txt
│   │   │   └── 📄 expected_output_s2.txt
│   │   ├── 📁 scenario3/
│   │   │   ├── 📄 initial_data_s3_minimal.txt
│   │   │   ├── 📄 tariff_s3.cfg
│   │   │   ├── 📄 commands_s3.txt
│   │   │   └── 📄 expected_output_s3.txt
│   │   ├── 📁 scenario4/
│   │   │   ├── 📄 initial_data_s4.txt
│   │   │   ├── 📄 tariff_s4.cfg
│   │   │   ├── 📄 commands_s4.txt
│   │   │   └── 📄 expected_output_s4.txt
│   │   └── 📁 scenario5/
│   │       ├── 📄 dataset_A_s5.txt
│   │       ├── 📄 tariff_s5.cfg
│   │       ├── 📄 commands_s5.txt
│   │       ├── 📄 expected_output_s5.txt
│   │       ├── 📄 expected_dataset_A_after_save_s5.txt
│   │       └── 📄 expected_dataset_B_after_save_s5.txt
└── 📁 build/                         # Директория сборки (генерируется CMake)
    └── 📁 bin/                       # Исполняемые файлы
        ├── database_server
        ├── database_client
        ├── generate_data
        └── run_unit_tests
