# Сценарий 5: Файловые операции, целостность данных и currentFilename

# 1. Попытка SAVE на "чистом" сервере (currentFilename пуст)
SAVE END

# 2. Загрузка первого набора данных (dataset_A_s5.txt)
LOAD "dataset_A_s5.txt" END

# 3. Проверка загрузки dataset_A
PRINT_ALL END

# 4. SAVE без указания имени файла (должен сохраниться в файл, соответствующий dataset_A_s5.txt на сервере)
SAVE END

# 5. Добавление новой записи
ADD FIO "Абонент Чарли Тринадцатый" IP "11.0.0.3" DATE "03.02.2024" TRAFFIC_IN 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 TRAFFIC_OUT 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 3.00 END

# 6. Проверка (теперь 3 записи)
PRINT_ALL END

# 7. Сохранение в новый файл dataset_B_s5.txt
SAVE "dataset_B_s5.txt" END

# 8. Снова загружаем dataset_A_s5.txt (в БД должно остаться 2 записи из dataset_A_s5.txt, currentFilename снова dataset_A_s5.txt)
LOAD "dataset_A_s5.txt" END

# 9. Проверка, что загружен именно dataset_A (2 записи)
PRINT_ALL END

# 10. Удаляем одну запись из текущей базы (которая сейчас dataset_A)
DELETE FIO "Абонент Альфа Одиннадцатый" END

# 11. Проверка (должна остаться одна запись "Абонент Браво Двенадцатый")
PRINT_ALL END

# 12. Сохраняем снова без указания имени (должен сохраниться измененный dataset_A_s5.txt, теперь с 1 записью)
SAVE END

# 13. Загружаем dataset_B_s5.txt (который содержит 3 записи: Альфа, Браво, Чарли)
LOAD "dataset_B_s5.txt" END

# 14. Финальная проверка - в базе снова 3 записи из dataset_B
PRINT_ALL END

# 15. Завершение
EXIT
