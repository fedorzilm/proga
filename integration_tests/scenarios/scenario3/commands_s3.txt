# Сценарий 3: Обработка ошибок и невалидных операций

# Загружаем минимальные данные, чтобы было что потенциально не найти/редактировать
LOAD "initial_data_s3.txt" END

# 1. Ошибки в команде ADD
ADD FIO "Ошибка IP" IP "не.кор.рект.ный" DATE "01.01.2024" END
ADD FIO "Ошибка Даты" IP "1.2.3.4" DATE "99.99.9999" END
ADD FIO "Ошибка Трафика Неполный" IP "2.3.4.5" DATE "01.01.2024" TRAFFIC_IN 1.0 2.0 3.0 4.0 5.0 6.0 7.0 8.0 9.0 10.0 11.0 12.0 13.0 14.0 15.0 16.0 17.0 18.0 19.0 20.0 21.0 22.0 23.0 END
ADD FIO "Ошибка Трафика Лишний" IP "2.3.4.6" DATE "01.01.2024" TRAFFIC_IN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 END
ADD FIO "Отрицательный Трафик" IP "3.4.5.6" DATE "02.01.2024" TRAFFIC_IN -1.0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 END
ADD FIO "Пропущено Обязательное Поле IP" DATE "01.01.2024" TRAFFIC_IN 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 END
ADD FIO "Дубликат Поля FIO" FIO "Еще раз FIO" IP "4.5.6.7" DATE "03.01.2024" END

# 2. Ошибки в команде SELECT
SELECT FIO "Несуществующий Абонент В Базе" END
SELECT IP "256.0.0.1" END
SELECT DATE "01.01.1800" END 
SELECT FIO "Опорный Абонент Для Ошибок" IP "10.10.10.10" IP "10.10.10.11" END 

# 3. Ошибки в команде EDIT
EDIT FIO "Несуществующий Для Редактирования" SET IP "1.1.1.1" END
EDIT FIO "Опорный Абонент Для Ошибок" IP "10.10.10.10" SET IP "невалидный.ip.для.set" END
EDIT FIO "Опорный Абонент Для Ошибок" IP "10.10.10.10" SET DATE "01.13.2024" END
EDIT FIO "Опорный Абонент Для Ошибок" IP "10.10.10.10" SET TRAFFIC_OUT 1 2 3 4 5 END
EDIT FIO "Опорный Абонент Для Ошибок" IP "10.10.10.10" SET НЕИЗВЕСТНОЕ_ПОЛЕ "значение" END
EDIT FIO "Опорный Абонент Для Ошибок" IP "10.10.10.10" SET DATE "11.10.2024" DATE "12.10.2024" END 

# 4. Ошибки в команде DELETE
DELETE IP "1.2.3.256" END

# 5. Ошибки файловых операций
LOAD "несуществующий_файл_на_сервере_абсолютно.txt" END
SAVE "/недопустимое_имя_файла_с_слешем/db_save_error.txt" END 

# 6. Неизвестная команда
СОВЕРШЕННО_НЕИЗВЕСТНАЯ_КОМАНДА И ЕЕ ПАРАМЕТРЫ END

# 7. Пустой запрос (клиент может отфильтровать, но если пройдет на сервер, он должен ответить ошибкой или проигнорировать)
# В run_all_tests.sh этот тест обрабатывается отдельно (отправкой пустой строки)

# 8. Запрос с некорректной структурой токенов (например, без кавычек где нужно)
ADD FIO Имя Без Кавычек IP 1.1.1.1 DATE 01.01.2025 TRAFFIC_IN 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 END

# 9. Запрос с незакрытой кавычкой
ADD FIO "Незакрытая кавычка IP 2.2.2.2 DATE 02.02.2025 END

# 10. Проверка PRINT_ALL (должна быть только одна начальная запись)
PRINT_ALL END

# 11. Завершение
EXIT
